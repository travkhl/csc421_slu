/*!
 * piStorage
 */
var piStorage=function(){var h=null;function a(l){var m=/http[s]?:\/\/([^:/]+).*/;return l.replace(m,"$1")}try{h=window.localStorage}catch(b){h=undefined}if(h){var g="__testLocalStorage__";try{h.setItem(g,1);h.removeItem(g)}catch(b){h=undefined}}if(!h){console.log("localStorage access was attempted from piStorage.js, but appears not supported.")}var i=function(m,l){return"op."+l+"."+m};var e=function(l){return"op.*."+l};function k(l){return(/true/i).test(l)}var c=new RegExp("^.*((iPhone; CPU iPhone OS 1[0-2])|(iPad; CPU OS 1[0-2])|(iPod touch; CPU iPhone OS 1[0-2])|(Macintosh; Intel Mac OS X.*Version\/1[0-2].*Safari)|(Macintosh; Intel Mac OS X 10_14.*Version\/1.*Safari)).*$");var f=c.test(navigator.userAgent);var d=function(l,o,n){var m=l+"="+o+";Path=/;Secure;";if(n){m+="Domain="+n+";"}if(!f){m+="SameSite=None;"}return m};var j=/op\.([^.]+)\.(.*)/;return{PIAuthKey:"PIAuth",PiAuthSessionKey:"PiAuthSession",PiAuthExpiryTimeKey:"PiAuthExpiryTime",PiLastUserActivityTimeKey:"PiLastUserActivityTime",PiIsRememberMeKey:"PiIsRememberMe",PiDb:"PiDb",PiAccessTokenKey:"PiAccessToken",PiRefreshTokenKey:"PiRefreshToken",PiAccessTokenExpiresInKey:"PiAccessTokenExpiresIn",PiAccessTokenTimestampKey:"PiAccessTokenTimestamp",PiUserIdKey:"PiUserId",PiSmsUserIdKey:"PiSmsUserId",PiRefreshStartedAtKey:"PiRefreshStartedAt",RootDomainLevel:1,SecondDomainLevel:2,PiIdpLoginUrlKey:"PiIdpLoginUrl",PiIdpPartnerNameKey:"PiIdpPartnerName",PiLastUserActivityTrackerKey:"PiLastUserActivityTracker",PiHomeCountryCodeKey:"PiHomeCountryCode",PiSessionIdKey:"PiSessionId",PiIdpLogoutCallbackKey:"PiIdpLogoutCallback",NoClientId:"*",PiLangKey:"PiLang",PiDeviceIdKey:"PiDeviceId",PiImpersonationIdKey:"PiImpersonationId",PiCookiePreferencesKey:"PearsonCookieConsentGroups",skipSameSite:function(){return f},getLocalStorage:function(){return h},getServer:function(l){var m=/http[s]?:\/\/([^:/]+).*/;return l.replace(m,"$1")},getDomain:function(n){var m=piStorage.getServer(window.location.origin||(window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")));if(m=="localhost"){return""}var l=new RegExp("(?:[^.]+.)*?(([^.]+.){0,"+n+"}[^.]+)$");return m.replace(l,"$1")},getCookie:function(n){var m=n+"=";var l=document.cookie.split(";");for(var o=0;o<l.length;o++){var q=l[o];while(q.charAt(0)==" "){q=q.substring(1)}if(q.indexOf(m)!=-1){var p=q.substring(m.length,q.length);if(p.length>1&&p[0]=='"'){p=p.substring(1,p.length-1)}return p}}return null},setCookie:function(l,n,o){if(!o){o=piStorage.SecondDomainLevel}var m=piStorage.getDomain(o);document.cookie=d(l,n,m)},expireCookie:function(l,n){if(!n){n=piStorage.SecondDomainLevel}var m=piStorage.getDomain(n);document.cookie=d(l,"",m)+"expires=Thu, 01-Jan-1970 00:00:01 GMT;"},storeLocally:function(l,m){if(typeof(m)==="undefined"||m===null){if(h){h.removeItem(l)}}else{if(h){h.setItem(l,m)}}},getLocally:function(l){return(!h)?"":h.getItem(l)},getLocallyForClient:function(m,l){return piStorage.getLocally(i(m,l))},storeLocallyForClient:function(m,n,l){return piStorage.storeLocally(i(m,l),n)},clearAllSessionData:function(){for(var l in h){if(l.match(j)){h.removeItem(l)}}},clearNoClientLocalValue:function(l){var m=e(l);if(h){h.removeItem(m)}},clearClientSessionData:function(l){var m=new RegExp("op\\.("+(l==="*"?"\\":"")+l+")\\.(.*)");for(var n in h){if(n.match(m)){h.removeItem(n)}}}}}();